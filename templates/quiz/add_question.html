{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container py-5">
  <h2 class="mb-4">Add a New Question</h2>
  <form method="post">
    {% csrf_token %}

    <div class="mb-3">
      {{ q_form.quiz.label_tag }}
      {{ q_form.quiz }}
      <small class="form-text text-muted">{{ q_form.quiz.help_text }}</small>
      {{ q_form.quiz.errors }}
    </div>

    <div class="mb-3">
      {{ q_form.text.label_tag }}
      {{ q_form.text }}
      {{ q_form.text.errors }}
    </div>

    <h5 class="mt-4">Answers (check the correct one)</h5>
    <div class="row">
      {% for form in formset %}
        <div class="col-md-6 mb-3">
          <div class="card p-3 h-100">
            <div class="mb-2">
              {{ form.text.label_tag }}
              {{ form.text }}
              {{ form.text.errors }}
            </div>
            <div class="form-check">
              {{ form.is_correct }}
              {{ form.is_correct.label_tag }}
            </div>
          </div>
        </div>
      {% endfor %}
    </div>

    <button type="submit" class="btn btn-primary">Save Question & Answers</button>
  </form>
</div>
{% endblock %}
